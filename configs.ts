import Big from "big.js"

export const preflightCheck = {
    BLOCK_TIMESTAMP_FRESHNESS_THRESHOLD: 15 * 30, // 30 minutes
    XDAI_BALANCE_THRESHOLD: Big(0.002),
    USDC_BALANCE_THRESHOLD: Big(3),
    FTX_USD_BALANCE_THRESHOLD: Big(3),
    FTX_MARGIN_RATIO_THRESHOLD: Big(0.1), // 10%
}

export interface AmmConfig {
    ENABLED: boolean
    ASSET_CAP: Big
    PERPFI_LEVERAGE: Big
    PERPFI_MIN_TRADE_NOTIONAL: Big
    PERPFI_SHORT_ENTRY_TRIGGER: Big
    PERPFI_LONG_ENTRY_TRIGGER: Big
    ADJUST_MARGIN_RATIO_THRESHOLD: Big
    MAX_SLIPPAGE_RATIO: Big
    FTX_MARKET_ID: string
    FTX_MIN_TRADE_SIZE: Big
}

export const ammConfigMap: Record<string, AmmConfig> = {
    "BTC-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "BTC-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.001),
    },
    "ETH-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "ETH-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.001),
    },
    "YFI-USDC": {
        ENABLED: false,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "YFI-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.001),
    },
    "DOT-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.3).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "DOT-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.1),
    },
    "SNX-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.4).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "SNX-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.1),
    },
    "LINK-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.4).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "LINK-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.1),
    },
    "AAVE-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.3).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "AAVE-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.01),
    },
    "SUSHI-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.3).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "SUSHI-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.5),
    },
    "COMP-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "COMP-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.001),
    },
    "REN-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "REN-PERP",
        FTX_MIN_TRADE_SIZE: Big(1),
    },
    "PERP-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "PERP-PERP",
        FTX_MIN_TRADE_SIZE: Big(10),
    },
    "UNI-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "UNI-PERP",
        FTX_MIN_TRADE_SIZE: Big(5),
    },
    "CRV-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "CRV-PERP",
        FTX_MIN_TRADE_SIZE: Big(50),
    },
    "MKR-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "MKR-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.05),
    },
    "CREAM-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "CREAM-PERP",
        FTX_MIN_TRADE_SIZE: Big(0.5),
    },
    "GRT-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "GRT-PERP",
        FTX_MIN_TRADE_SIZE: Big(100),
    },
    "ALPHA-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "ALPHA-PERP",
        FTX_MIN_TRADE_SIZE: Big(100),
    },
    "FTT-USDC": {
        ENABLED: true,
        ASSET_CAP: Big(30),
        PERPFI_LEVERAGE: Big(5),
        PERPFI_MIN_TRADE_NOTIONAL: Big(5),
        PERPFI_SHORT_ENTRY_TRIGGER: Big(0.5).div(100),
        PERPFI_LONG_ENTRY_TRIGGER: Big(-0.5).div(100),
        ADJUST_MARGIN_RATIO_THRESHOLD: Big(5).div(100),
        MAX_SLIPPAGE_RATIO: Big(0),
        FTX_MARKET_ID: "FTT-PERP",
        FTX_MIN_TRADE_SIZE: Big(3),
    },
}
